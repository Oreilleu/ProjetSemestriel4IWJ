{% extends 'base.html.twig' %}

{% block title %}Tableau de Bord{% endblock %}

{% block body %}
    {{ include('components/_title.html.twig', { content: 'Dashboard'}) }}

    <!-- main content -->
    <div class="flex justify-between items-center mb-6">
        <h1 class="text-2xl font-semibold">Tableau de Bord</h1>
    </div>

    <form class="w-full max-w-md mb-6">
        <label for="default-search" class="mb-2 text-sm font-medium text-gray-900 sr-only">Search</label>
        <div class="relative">
            <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
                <i class="fa fa-search w-4 h-4 text-gray-500"></i>
            </div>
            <input type="search"
                class="block w-full outline-none p-4 ps-10 text-sm text-gray-900 rounded-lg bg-gray-50 border-2 border-transparent focus:ring-4 focus:ring-[#C79364]/60 focus:border-white"
                placeholder="Rechercher des produits, factures..." required />
            <button type="submit"
                class="text-white absolute end-2.5 bottom-2.5 bg-[#C79364] hover:bg-[#af8057] focus:ring-4 focus:outline-none focus:ring-[#C79364]/60 font-medium rounded-lg text-sm px-4 py-2">
                Rechercher
            </button>
        </div>
    </form>
    <div class="flex flex-col md:grid md:grid-cols-2 gap-4 pb-5">
        <!-- Factures -->
        <div class="bg-white shadow rounded-lg p-4">


            <div class="flex items-center justify-between">
                <div class="flex mb-4 items-start justify-center flex-col">
                    <h2 class="text-2xl font-semibold text-gray-800">Factures</h2>
                    <p class="text-2xl font-bold text-gray-800">90 Factures</p>
                </div>
                <div
                    class="flex items-center h-12 w-12 justify-center bg-green-100 text-green-600 p-2 rounded-full">
                    <i class="fa fa-file-invoice-dollar text-2xl"></i>
                </div>
            </div>
            <canvas id="facturesChart" width="400" height="200"></canvas>
            <a href="#factures.html.twig"
                class="block w-fit mt-4 text-green-600 hover:text-green-700 focus:ring-4 focus:outline-none focus:ring-green-700/30 font-medium rounded-lg text-sm px-4 py-3">
                <i class="fa fa-eye mr-1"></i>
                Voir toutes les factures
            </a>
        </div>

        <!-- Devis -->
        <div class="bg-white shadow rounded-lg p-4">
            <div class="flex items-center justify-between">
                <div class="flex mb-4 items-start justify-center flex-col">
                    <h2 class="text-2xl font-semibold text-gray-800">Devis</h2>
                    <p class="text-2xl font-bold text-gray-800">220 Devis</p>
                </div>
                <div
                    class="flex items-center h-12 w-12 justify-center bg-blue-100 text-blue-600 p-2 rounded-full">
                    <i class="fas fa-copy text-2xl"></i>
                </div>
            </div>
            <canvas id="devisChart" width="400" height="200"></canvas>
            <a href="./devis.html"
                class=" block w-fit mt-4 text-blue-600 hover:text-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-700/30 font-medium rounded-lg text-sm px-4 py-3">
                <i class="fa fa-eye mr-1"></i>
                Voir toutes les devis
            </a>
        </div>

        <!-- Produits -->
        <div class="bg-white shadow rounded-lg p-4">
            <div class="flex items-center justify-between">
                <div class="flex mb-4 items-start justify-center flex-col">
                    <h2 class="text-2xl font-semibold text-gray-800">Produits Récentes</h2>
                    <p class="text-2xl font-bold text-gray-800">130 Produits vendus</p>
                </div>
                <div
                    class="flex items-center h-12 w-12 justify-center bg-yellow-100 text-yellow-600 p-2 rounded-full">
                    <i class="fab fa-product-hunt text-2xl"></i>
                </div>
            </div>
            <div class="overflow-x-scroll w-full">
                <table class="min-w-full bg-white text-left whitespace-nowrap">
                    <thead>
                        <tr class="border-b">
                            <th class="p-2">Nom du Produit</th>
                            <th class="p-2">Prix</th>
                            <th class="p-2">Catégorie</th>
                            <th class="p-2">Stock</th>
                        </tr>
                    </thead>
                    <tbody class="text-gray-700">
                        <tr class="border-b">
                            <td class="p-2">Produit A</td>
                            <td class="p-2">20€</td>
                            <td class="p-2">Catégorie 1</td>
                            <td class="p-2">En stock</td>
                        </tr>
                        <tr class="border-b">
                            <td class="p-2">Produit B</td>
                            <td class="p-2">15€</td>
                            <td class="p-2">Catégorie 2</td>
                            <td class="p-2">En stock</td>
                        </tr>
                        <tr class="border-b">
                            <td class="p-2">Produit C</td>
                            <td class="p-2">30€</td>
                            <td class="p-2">Catégorie 1</td>
                            <td class="p-2">Rupture de stock</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <a href="./produits.html"
                class="block w-fit mt-4 text-yellow-600 hover:text-yellow-700 focus:ring-4 focus:outline-none focus:ring-yellow-700/30 font-medium rounded-lg text-sm pr-4 py-3">
                <i class="fa fa-eye mr-1"></i>
                Voir tout les produits
            </a>
        </div>

        <!-- Client -->
        <div class="bg-white shadow rounded-lg p-4">
            <div class="flex items-center justify-between">
                <div class="flex mb-4 items-start justify-center flex-col">
                    <h2 class="text-2xl font-semibold text-gray-800">Clients Récentes</h2>
                    <p class="text-2xl font-bold text-gray-800">40 Clients</p>
                </div>
                <div
                    class="flex items-center h-12 w-12 justify-center bg-red-100 text-red-600 p-2 rounded-full">
                    <i class="fa fa-users text-2xl"></i>
                </div>
            </div>
            <div class="overflow-x-scroll w-full">
                <table class="min-w-full bg-white text-left whitespace-nowrap">
                    <thead>
                        <tr class="border-b">
                            <th class="p-2">Nom</th>
                            <th class="p-2">Email</th>
                            <th class="p-2">Téléphone</th>
                        </tr>
                    </thead>
                    <tbody class="text-gray-700">
                        <tr class="border-b">
                            <td class="p-2">Entreprise A</td>
                            <td class="p-2">contact@entreprisea.com</td>
                            <td class="p-2">01 23 45 67 89</td>
                        </tr>
                        <tr class="border-b">
                            <td class="p-2">Entreprise B</td>
                            <td class="p-2">contact@entrepriseb.com</td>
                            <td class="p-2">01 98 76 54 32</td>
                        </tr>
                        <tr class="border-b">
                            <td class="p-2">Entreprise C</td>
                            <td class="p-2">contact@entreprisec.com</td>
                            <td class="p-2">02 34 56 78 90</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <a href="./clients.html"
                class="block w-fit mt-4 text-red-600 hover:text-red-700 focus:ring-4 focus:outline-none focus:ring-red-700/30 font-medium rounded-lg text-sm pr-4 py-3">
                <i class="fa fa-eye mr-1"></i>
                Voir tout les clients
            </a>
        </div>

    </div>

 <script>
        tailwind.config = {
            darkMode: false,
            theme: {
                extend: {
                    // Custom theme extensions
                }
            }
        }
    </script>
   
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <!-- Chart factures -->
    <script>
        var ctx = document.getElementById('facturesChart').getContext('2d');
        var facturesChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin'],
                datasets: [{
                    label: 'Nombres de Factures',
                    data: [5, 15, 20, 35, 10, 5],
                    borderColor: '#55FFAA', // Couleur de la ligne
                    backgroundColor: '#55FFAA20', // Couleur de fond sous la ligne (avec transparence)
                    borderWidth: 2,
                    fill: true
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>

    <!-- Chart Devis -->
    <script>
        // Graphique des Devis
        var ctxDevis = document.getElementById('devisChart').getContext('2d');
        var devisChart = new Chart(ctxDevis, {
            type: 'line',
            data: {
                labels: ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin'],
                datasets: [{
                    label: 'Nombre de Devis',
                    data: [40, 30, 20, 50, 60, 20],
                    borderColor: '#3357FF', // Couleur de la ligne
                    backgroundColor: '#3357FF30', // Couleur de fond sous la ligne (avec transparence)
                    borderWidth: 2,
                    fill: true
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>


{% endblock %}
